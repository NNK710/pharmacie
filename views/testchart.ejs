<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Graphiques</title>

    
</head>
<body>

    <script> var chartjs = require('chart.js'); </script>

    <div>
        <canvas id="monGraph" width="400" height="100"></canvas>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


    <script>
            
            let stock = ('<% index.forEach(function(user){ %><%= user.Stock %>,<% }) %>');
            let besoin = ('<% index.forEach(function(user){ %><%= user.Besoin %>,<% }) %>');
            let tab_stock = stock.split(',');
            let tab_besoin = besoin.split(',');

            let ctx = document.querySelector("#monGraph")
                    let graph = new Chart(ctx, {
                        type: "line",
                        data: {
                            labels: ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre'],
                            datasets: [{
                                label: 'Stock médocs',
                                data: [tab_stock[0],tab_stock[1],tab_stock[2],tab_stock[3],tab_stock[4],tab_stock[5],tab_stock[6],tab_stock[7],tab_stock[8],tab_stock[9],tab_stock[10],tab_stock[11]],
                                borderColor:'red',
                                backgroundColor: 'black',
                            },
                            {
                                label: 'Besoin Médocs',
                                data: [tab_besoin[0],tab_besoin[1],tab_besoin[2],tab_besoin[3],tab_besoin[4],tab_besoin[5],tab_besoin[6],tab_besoin[7],tab_besoin[8],tab_besoin[9],tab_besoin[10],tab_besoin[11]],
                                borderColor: 'lightgreen',
                                backgroundColor: 'cyan'
                            }]
                        },
                })
                
    </script>

    
</body>
</html>